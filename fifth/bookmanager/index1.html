<!DOCTYPE html>
<html lang="en" ng-app="appModule">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div ng-controller="myCtrl"></div>
<script src="angular.js"></script>
<script src="angular-resource.js"></script>
<!--安装angular-resource-->
<script>
    var app = angular.module('appModule',['ngResource']);
    app.factory('book',function ($resource) {
        return  $resource('/book/:id',null,{
            update:{ //angular不提供修改的方法，所以自己要增加一个
                method:'PUT'
            }
        });
        //调用save方法，意味着你要保存一条数据 post  返回保存后的结果
        //get 表示要获取一条数据 必须传递{id:1} get 查询的那一条数据
        //query 查询全部 get  返回的是全部数据 类型必须是数组
        //delete 发送一个删除 {id:1} delete 返回的类型是{}
        //update 修改某一个 {id:1} 修改的内容 put 返回的类型是修改的数据
    });
    app.controller('myCtrl',function ($scope,book) {
        $scope.books = book.query();//查询所有图书，angular会自动转成json类型
        console.log($scope.books);
    });
</script>
</body>
</html>